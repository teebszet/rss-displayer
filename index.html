<!DOCTYPE html>

<html>
  <head>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
    <!-- Optional theme -->
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap-theme.min.css">
  </head>
  <body>
    <div id="container">
      <div class="row" id="header">
        <div class="col-md-4"></div>
        <div class="col-md-4 text-center">
          <h1>RSS Feeds</h1>
          <form class="form-inline">
            <div class="form-group"><input type="text" class="form-control" id="search-bar" placeholder="Enter RSS URL"></div>
            <button type="submit" class="btn btn-default" id="search-button">Search</button>
          </form>
        </div>
        <div class="col-md-4"></div>
      </div>
    </div>
  </body>

  <!-- JS libraries -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.5.1/lodash.min.js"></script>
  <script type="text/javascript" src="https://www.google.com/jsapi"></script>
  <!-- JS custom -->
  <script type="text/javascript" >
    // form listener functions
    function handleSearchClick() {
      // TODO refactor to do less DOM lookups
      document.getElementById("search-button")
        .addEventListener("click", function(){
          console.log('clicked');
          document.getElementById("search-bar").setAttribute("disabled", true);
        });
    }

    google.load("feeds", "1");

    // RSS functions
    var feeds = [
      "http://fliplet.net/feed",
      "http://demon.net/feed",
      "http://feeds.bbci.co.uk/news/rss.xml"
    ];
    function initialize() {
      var feed = new google.feeds.Feed(feeds[2]);
      feed.load(function(result) {
        if (!result.error) {
          _.forEach(result.feed.entries, function(v) {
            console.log(v.contentSnippet) 
            console.log(v.title) 
            console.log(v.link) 
          })
        }
      });
    }

    document.addEventListener("DOMContentLoaded", function(event) { 
      handleSearchClick();
      //google.setOnLoadCallback(initialize); 
    });
  </script>
<html>

